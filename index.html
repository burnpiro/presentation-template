<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="author" content="Michal Miotk & Kamil Orlow">

  <title>Weapon Detection using Synthethic datasets</title>

  <link rel="stylesheet" href="dist/reset.css">
  <link rel="stylesheet" href="dist/reveal.css">
  <link rel="stylesheet" href="dist/theme/black.css" id="theme">

  <!-- Theme used for syntax highlighting of code -->
  <link rel="stylesheet" href="css/highlight/isbl-editor-light.css">
</head>
<body>
<div class="reveal">
  <div class="slides">
    <section>
      <h2>Presentation</h2>
      <small>Authors: Michał Miotk, Kamil Orłow</small>
    </section>
    <section>
      <h1>Agenda</h1>
      <ol>
        <li>Introduction</li>
        <li>Weapon Dataset Creator</li>
        <li>SynthDet</li>
        <li>ML->Dataset</li>
        <li>Future Work</li>
        <li>Links</li>
      </ol>
    </section>
    <section>
        <section>
            <h2>Introduction</h2>
            <p>Generate weapons dataset from Unity engine instead taking photos of real guns on diffrent backgrounds or pictures from the Internet.</p>
        </section>
        <section>
            <h2>Article</h2>
            <img src = "images/introduction/article.png" />
        </section>
        <section>
            <h2>Models 3D</h2>
            <img src="images/introduction/models.png" />
        </section>
        <section>
            <h2>Perception</h2>
            <div style="display: flex; justify-content:space-around">
                <ol style="">
                    <li>Dataset Creator</li>
                    <li>Synthdet</li>
                </ol>
                <img src="images/introduction/perception.png" style="width:50%; height:auto; border: 1px solid #ddd; border-radius: 4px; padding: 5px;"/>
            </div>
        </section>
    </section>
    <section>
        <section>
            <h2>Weapon DatasetCreator</h2>
        </section>
        <section>
            <h2>Random rotatation Glock</h2>
            <video width="640" height="480" controls>
                <source src="videos/glock_rotation.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </section>
        <section>
            <h2>Background 2D -> 3D</h2>
            <div style="display: flex; justify-content:space-around">
                <ol>
                    <li>Setting objects</li>
                    <li>Raycast</li>
                    <li>Object pooling</li>
                </ol>
                <video width="640" height="480" controls>
                    <source src="videos/background.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </section>
        <section>
            <h2>Foreground</h2>
            <div style="display: flex; flex-direction: column; justify-content:space-around">
                <ol>
                    <li>Rotation</li>
                    <li>Position</li>
                </ol>
                <div style="display: flex; justify-content:space-around">
                    <img src="images/dataset_creator/position.png" style="width:50%; height:auto; border: 1px solid #ddd; border-radius: 4px; padding: 5px;" />
                    <img src="images/dataset_creator/rotation.png" style="width:50%; height:auto; border: 1px solid #ddd; border-radius: 4px; padding: 5px;" />
                </div>
            </div>
        </section>
        <section>
            <h2>Occlusion</h2>
            <img src="images/dataset_creator/occlusion.png" style="width:auto; height:auto; border: 1px solid #ddd; border-radius: 4px; padding: 5px;" />
        </section>
        <section>
            <h2>Final result : LIVE</h2>
        </section>
    </section>
    <section>
      SynthDet
      <section>
        Background - nalozone zdjecia na szesciany i walce, brak pelnych modeli
      </section>
      <section>
        Foreground - moga byc obiekty z backgroundu na foreground - ustawia sie procentowa szanse
      </section>
      <section>
        Occlusion - full implementation, ours is partial
      </section>
      <section>
        Features - lights, blur, extra
      </section>
    </section>
    
    <section>
        <section>
          <h1>ML - Datasets</h1>
        </section>
        <section>
          <h2>1. EdgeAi Weapon Dataset</h2>
          <section>
            <p align="center">
              <img src="images/edgeaidataset.png"/>
            </p>
          </section>
        </section>
        <section>
          <h2>2. Dataset Generated in Unity</h2>
          <small>Based on free models from assets store - some of them has three instances</small>
          <table>
            <tr>
              <th width="25%"><img src="images/assetstore.png"/></th>
              <th width="25%"><img src="images/dataset_generated_synthdet.png"/></th>
            </tr>
          </table>
        </section>
    </section>
    <section>
      <h1>Categories</h1>
      <table style="width:100%">
        <tr>
          <td height=80 width=80><img src="images/weapon_cats/ab10.png"/></td>
          <td height=80 width=80><img src="images/weapon_cats/ak.png"/></td>
          <td height=80 width=80><img src="images/weapon_cats/colt.png"/></td>
        </tr>
        <tr>
          <td height=80 width=80><img src="images/weapon_cats/danwesson.png"/></td>
          <td height=80 width=80><img src="images/weapon_cats/enfield.png"/></td>
          <td height=80 width=80><img src="images/weapon_cats/glock.png"/></td>
        </tr>
        <tr>
          <td height=80 width=80><img src="images/weapon_cats/m4.png"/></td>
          <td height=80 width=80><img src="images/weapon_cats/mp5.png"/></td>
          <td height=80 width=80><img src="images/weapon_cats/scar.png"/></td>
        </tr>
        <tr>
          <td height=80 width=80></td>
          <td height=80 width=80><img src="images/weapon_cats/thompson.png"/></td>
          <td height=80 width=80></td>
        </tr>
      </table> 
    </section>
    <section>
      <img src="images/detectron2.png"/>
      <p>Model configuration</p>
      <table style="float:left">
        <tr>
          <th>MODEL type</th>
          <th>instance segmentation</th>
        </tr>
        <tr>
          <th>MODEL.WEIGHTS</th>
          <th>mask_rcnn_R_50_FPN_3x</th>
        </tr>
        <tr>
          <th>MODEL.BACKBONE.FREEZE_AT</th>
          <th>2</th>
        </tr>
      </table>
    </section>
    <section>
      <section>
        <h1>Training results</h1> 
        <img src="images/results/precision.png" style="width:50%"/>
      </section>
      <section>
        <h2>Precision on glock detection</h2>
        <figure>
          <img src="images/results/glock_precision.png" style="width:50%">
          <figcaption>trained on dataset generated with SynthDet</figcaption>
        </figure> 
      </section>
      <section>
        <small>Results after training on Synthetic Gun Detection Dataset from Edgecase.ai</small>
        <iframe width="560" height="315" src="https://www.youtube.com/embed/FAx2lqds5Mg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </section>
      <section>
        <p>Results are presented in streamlit app</p>
        <img src="images/results/streamlit.png" style="width:50%"/>
      </section>
    </section>
    <section>
      <p>Perception package have no scripts to get COCO output</p>
      <table>
        <tr>
          <td height="40%" width="40%"><img src="images/perception_output/text.png"/></td>
          <td height="40%" width="40%"><img src="images/perception_output/segmentation.png"/></td>
        </tr>
      </table>
    </section>
    <section>
      <h2>AWS sagemaker was used to create test dataset</h2> 
      <ul>
        <li>maximum 10 labels</li>
        <li>no instance segmentation - only semantic</li>
        <li>own scripts to convert to coco</li>
      </ul>
      <img src="images/labeling_aws.png" style="width:50%"/>
    </section>
    <section>
      <h1>Future Work</h1>
      <section>
        <h4>3D bounding box annotation</h4>
        <img src="images/3dbounding_box.png" style="width:50%"/>
      </section>
      <section>
        scanning przestrzeni 3D
      </section>
    </section>
    <section>
      <section>
        <h3>Sources</h3>    
        <ul>
          <li>https://github.com/Unity-Technologies/SynthDet</li>
          <li>https://github.com/Unity-Technologies/com.unity.perception</li>
          <li>https://arxiv.org/abs/1902.09967</li>
          <li>https://docs.unity3d.com/Manual/index.html</li>
          <li>https://github.com/facebookresearch/detectron2</li>
          <li>https://aws.amazon.com/sagemaker/</li>
        </ul> 
     </section>
     <section>
      <ul>
        <li>https://www.streamlit.io/</li>
        <li>https://github.com/michalmiotk/gun</li>
        <li>https://github.com/michalmiotk/WeaponDatasetCreator</li>
        <li>https://blog.usejournal.com/worlds-first-synthetic-gun-detection-dataset-from-edgecase-ai-dbe3ea8eeb7e</li>
        <li>https://wandb.ai/</li>
      </ul> 
   </section>
  </section>
  <section>
    <p>Questions ?</p>
  </section>
  </div>
</div>
<script src="dist/reveal.js"></script>
<script src="plugin/notes/notes.js"></script>
<script src="plugin/markdown/markdown.js"></script>
<script src="plugin/highlight/highlight.js"></script>
<script src="plugin/math/math.js"></script>
<script>
  // More info about config & dependencies:
  // - https://github.com/hakimel/reveal.js#configuration
  // - https://github.com/hakimel/reveal.js#dependencies
  Reveal.initialize({
    hash: true,
    controls: true,
    progress: true,
    slideNumber: false,
    overview: true,
    center: true,
    navigationMode: 'default',
    fragmentInURL: false,
    embedded: false,
    preloadIframes: null,
    autoSlide: 0,
    autoSlideStoppable: true,
    defaultTiming: 120,
    mouseWheel: false,
    previewLinks: false,
    transition: 'slide', // none/fade/slide/convex/concave/zoom
    transitionSpeed: 'default', // default/fast/slow
    backgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom
    display: 'block',
    math: {
      mathjax: 'plugin/math/MathJax.js',
      config: 'TeX-AMS_HTML-full', // See http://docs.mathjax.org/en/latest/config-files.html
      // pass other options into `MathJax.Hub.Config()`
      TeX: { Macros: { RR: "{\\bf R}" } }
    },
    plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath ]
  });
</script>
</body>
</html>
